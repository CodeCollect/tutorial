# 将目录移动到新分区
## 环境
- 操作系统：Ubuntu
- 系统版本：16.04.3 LTS
## 前言
不管是在安装系统时设置的分区太小，还是买了一块新硬盘，都会需要将现有的文件系统全部或者部分转移到新的分区上。现在我们买了一块新硬盘，需求是将‘/root’转移到新硬盘上的一个500G分区上。
## 步骤
1. 打开终端，使用命令`fdisk -l`查看当前磁盘信息。
2. 记住你的磁盘的编号（如dev/sda），使用命令`fdisk /dev/sda`进入磁盘。
3. 新建分区：
    1. 输入‘n’新建一个分区。
    2. 选择‘p’新建主分区。
    3. 输入‘1’建立第一个主分区。
    4. 直接回车表示1柱面开始分区。
    5. 输入‘+500G’表示分区大小为500G。
    6. 输入‘w’将更改写入磁盘。
4. 使用命令`mkfs.ext4 /dev/sda1`将刚刚新建的分区格式化。
5. 挂载磁盘：
    1. 使用命令`mkdir /mnt/temp`新建挂载点。
    2. 使用命令`mount /dev/sda1 /mnt/temp/`挂载。
6. 使用命令`blkid`查看分区UUID（如‘4227c878-a090-45d7-bd89-b7e61cb495da’）。
7. 使用命令`mv -rf /root/* /mnt/temp/`迁移数据。
8. 重新挂载新分区：
    1. 使用命令`umount /mnt/temp`取消挂载。
    2. 使用命令`mount /dev/sda1 /root`挂载。
9. 设置开机自动挂载：
    1. 使用命令`vim /etc/fstab`编辑fstab文件。
    2. 在文件末加上一行‘UUID=4227c878-a090-45d7-bd89-b7e61cb495da /root ext4 errors=remount-ro 0 1’。
    3. 使用命令`:wq`保存退出。
10. 使用命令`reboot`重启系统。
11. 重启后，使用命令`df`可查看文件系统相关信息。
